{% extends 'base.html.twig' %}

{% block title %}Hello CartController!
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href={{ asset("./styles/headers.css") }}>
	<link rel="stylesheet" href={{ asset("./styles/footer.css") }}>
	<link rel="stylesheet" href={{ asset("./styles/cart.css") }}>
{% endblock %}

{% block javascripts %}
<script src={{ asset('./js/headers.js') }} defer></script>
 

	{% endblock %}
			
	 
	{% block body %}
	  
	   {{ include ("./_partials/header.html.twig") }}     
	  
	 
	<section class="container_panier"> 
	  <h1> Votre reservations </h1>
	 
	{# {% for items in reservation %} #}
	      
	    
	             {# {% for items in item %}   #}
   
	            <div class="second_container">
	                  
	                        
	                <div class="image">
	                       <img src= "/images/{{ reservation.car.image.image1}}" alt="{{ reservation.car.brand }}" /> 
	                </div>  
	     
	                
	
	                <div class="article">
  
                            <div class="infos">

						      <a class="facture" href="#">Votre Facture</a>
                                <p> La reservation de la voiture  {{reservation.car.brand|upper }} | {{reservation.car.model|upper}}
					              a été confirmée le {{ reservation.dayDate|format_datetime(locale='fr',pattern="EEEE dd MMMM YYYY")}}
									 
								 
								
								</p>
									
							</div>
								<hr>
							<div class="date_prix">  
					            <p>
								  Reserver pour notre client: {{utilisateur.firstname|upper}} {{utilisateur.lastname}}
								  du <span> {{ reservation.startDate|format_datetime(locale='fr',pattern="EEEE dd MMMM YYYY") }} </span> au 
					            <span> {{ reservation.endDate|format_datetime(locale='fr',pattern="EEEE dd MMMM YYYY") }} </span>.
					  
					            </p>
	                                 {% if reservation.isOptionDriver %}   
                                            {%set valDriver = reservation.car.priceDriver%}
											 {%set message1 = "Chauffeur professionnel"%}
											{% else %}
											 {% set valDriver = 0 %}
                                     {% endif %}

									 {% if reservation.isDecoration %}   
                                            {%set valDecoration = reservation.car.priceDecoration%}
											{% else %}
											 {% set valDecoration = 0 %}
                                    {% endif %}
									 {% if reservation.isOptChildSeat %}   
                                            {%set valSeatChild = reservation.car.priceSeatChild%}
											{% else %}
											 {% set valSeatChild = 0 %}
	                                {% endif %}
	                                 {% if reservation.priceunlimitedKm %}
                                            
	                                <h4>  Total à payer pour une location avec un kilometrage illimité et options :  {% set sum =  reservation.car.priceKmUnlimited +  valDriver
									+ valSeatChild + valDecoration %}
                                     <span class="somme">{{ sum }}</span>€</h4>
	                                {% else %}
	                               <h4> Total à payer pour une location avec un kilometrage limité à 100 Km/jour maximum et options : {% set sum =  reservation.car.priceDay +  valDriver
									+ valSeatChild + valDecoration %}
                                    <span class="somme">{{ sum }}</span>€</h4>
	                               {% endif %}
								   
								
							</div>
	               
	
	                    <div class="supprime_modif">
	                         {# <div class="supp"> <a  href= {{ path('remove', {'id': reservation.id}) }}>Annuler votre reservation <a/></div> #}
							 
							
							 <div class="modif"> <a  href= {{ path('modifier', {'id': reservation.id}) }}>Modifier votre reservation<a/></div>
	                    </div>  
	                      
	                
	
	                  
	                   
	                  
	               
	                </div>
	
	                         
	                              
	               
	                            
	
	                  
	               
	            </div>
	
	        
			  
               
			
	     {# {% endfor %}  #}
	  
	{# {% endfor %} #}
	
	   </section>
	 
	
{% endblock %}
